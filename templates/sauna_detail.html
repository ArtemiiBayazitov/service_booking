{% extends "base.html" %}
{% load widget_tweaks %}

{% block title %}{{ sauna.name }} — Бронирование{% endblock %}

{% block content %}
<div class="row">
  <div class="col-lg-6">
    {% if sauna.image %}
      <img src="{{ sauna.image.url }}" class="img-fluid rounded mb-3" alt="{{ sauna.name }}">
    {% endif %}
  </div>
  <div class="col-lg-6">
    <h1 class="mb-3">{{ sauna.name }}</h1>

    {% if sauna.location %}
      <p class="text-muted mb-1"><strong>Локация:</strong> {{ sauna.location }}</p>
    {% endif %}
    {% if sauna.description %}
      <p class="mb-4">{{ sauna.description }}</p>
    {% endif %}

    {# Проверяем, передана ли форма в контекст #}
    {% if form %}
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Забронировать время</h5>
          <form method="post" novalidate>
            {% csrf_token %}
            {{ form.non_field_errors }}
            {% for field in form %}
              <div class="mb-3">
                <label class="form-label" for="{{ field.id_for_label }}">{{ field.label }}</label>
                {{ field|add_class:"form-control" }}
                {% if field.help_text %}
                  <div class="form-text">{{ field.help_text }}</div>
                {% endif %}
                {% for error in field.errors %}
                  <div class="invalid-feedback d-block">{{ error }}</div>
                {% endfor %}
              </div>
            {% endfor %}
            <button type="submit" class="btn btn-success">Забронировать</button>
          </form>
        </div>
      </div>
    {% else %}
      <a href="#" class="btn btn-success btn-lg">Выбрать дату и время</a>
      <p class="text-muted mt-2">Подключим форму на следующем шаге.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
 